import{b as j,d as F}from"./chunk-V3ZV7H3I.js";import{a as y,b as K,c as X}from"./chunk-U3K7XM6O.js";import{Ca as v,Da as b,G as M,Ga as O,Ha as T,Ia as V,Ja as i,Ka as o,Ma as x,Na as C,Oa as N,Pa as u,Qa as z,Ra as l,Sa as D,Ta as _,U as p,Ua as I,V as c,Wa as r,Xa as q,Ya as L,Za as A,_a as R,aa as h,ka as E,la as m,mb as H,pa as w,r as S,sa as k,wa as P}from"./chunk-2JJ3LMHY.js";var f=class a{pokemon;selectedPokemon=new w;selectPokemon(t){this.selectedPokemon.emit(t)}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=P({type:a,selectors:[["app-pokemon-card"]],inputs:{pokemon:"pokemon"},outputs:{selectedPokemon:"selectedPokemon"},decls:8,vars:6,consts:[[1,"card",3,"click"],["loading","lazy",3,"src","alt"],[1,"info"]],template:function(e,n){e&1&&(x(0,"div",0),D("click",function(){return n.selectPokemon(n.pokemon.id)}),N(1,"img",1),x(2,"div",2)(3,"p"),r(4),C(),x(5,"p"),r(6),A(7,"titlecase"),C()()()),e&2&&(m(),z("src",n.pokemon.sprite,E)("alt",n.pokemon.name),m(3),L("No. ",n.pokemon.id),m(2),q(R(7,4,n.pokemon.name)))},dependencies:[H],styles:[".card[_ngcontent-%COMP%]{display:grid;grid-template-columns:96px 1fr;height:100px;max-width:300px;margin-bottom:10px;margin-right:10px;border-radius:50px 10px 10px 50px;background-color:#adadad;cursor:pointer;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#676767}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:96px;height:100px;background-color:#8c8c8c;border-radius:50px}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-family:sans-serif}"]})};var Y=(a,t)=>t.id;function G(a,t){if(a&1){let e=u();i(0,"app-pokemon-card",14),l("selectedPokemon",function(s){p(e);let g=_();return c(g.onPokemonSelected(s))}),o()}if(a&2){let e=t.$implicit;V("pokemon",e)}}function J(a,t){if(a&1){let e=u();i(0,"button",15),l("click",function(){p(e);let s=_();return c(s.prevPage())}),r(1,"Prev Page"),o()}}function Q(a,t){if(a&1){let e=u();i(0,"button",15),l("click",function(){p(e);let s=_();return c(s.nextPage())}),r(1,"Next Page"),o()}}var $=class a{constructor(t,e,n){this.pokemonService=t;this.router=e;this.route=n}currentPage=h(1);pageSize=h(30);pokedex=K(S([y(this.currentPage),y(this.pageSize)]).pipe(M(([t,e])=>this.pokemonService.getPokemonList(t,e))),{initialValue:[]});get maxPage(){return Math.ceil(this.pokemonService.MAX_POKEMON/this.pageSize())}prevPage(){let t=this.currentPage()-1;t<1||this.router.navigate([],{relativeTo:this.route,queryParams:{page:t},queryParamsHandling:"merge"})}nextPage(){let t=this.currentPage()+1;t>this.maxPage||this.router.navigate([],{relativeTo:this.route,queryParams:{page:t},queryParamsHandling:"merge"})}onPokemonSelected(t){this.router.navigate(["/pokedex/pokemon",t])}ngOnInit(){this.route.queryParams.subscribe(t=>{let e=Number(t.page??1);e<1&&(e=1),e>this.maxPage&&(e=this.maxPage),this.currentPage.set(e),this.router.navigate([],{relativeTo:this.route,queryParams:{page:e},queryParamsHandling:"merge"})})}changePageSize(t){let e=Number(t.target.value);this.pageSize.set(e),this.router.navigate([],{relativeTo:this.route,queryParams:{page:1},queryParamsHandling:"merge"})}searchPokemon(t){t instanceof Event&&(t=t.target.value);let e=Number(t);if(!isNaN(e))if(e>0&&e<=this.pokemonService.MAX_POKEMON){this.router.navigate(["/pokedex/pokemon",e]);return}else alert("Please introduce a valid number");this.pokemonService.getPokemon(t).subscribe({next:n=>{this.router.navigate(["/pokedex/pokemon",n.id])},error:()=>{alert("That Pok\xE9mon does not exist")}})}static \u0275fac=function(e){return new(e||a)(k(X),k(F),k(j))};static \u0275cmp=P({type:a,selectors:[["app-pokedex"]],decls:26,vars:2,consts:[["searchInput",""],[1,"search-box"],["type","text","placeholder","Search by name or number...",3,"keyup.enter"],[3,"click"],[1,"pokemon-per-page"],[1,"selector",3,"change"],["value","15"],["value","30","selected",""],["value","50"],["value","100"],["value","1025"],[1,"pokedex-list"],[3,"pokemon"],[1,"boton-pagina"],[3,"selectedPokemon","pokemon"],[1,"boton-pagina",3,"click"]],template:function(e,n){if(e&1){let s=u();i(0,"h1"),r(1,"Pok\xE9dex"),o(),i(2,"div",1)(3,"input",2,0),l("keyup.enter",function(d){return p(s),c(n.searchPokemon(d))}),o(),i(5,"button",3),l("click",function(){p(s);let d=I(4);return c(n.searchPokemon(d.value))}),r(6,"Search"),o()(),i(7,"div",4)(8,"span"),r(9,"Show"),o(),i(10,"select",5),l("change",function(d){return p(s),c(n.changePageSize(d))}),i(11,"option",6),r(12,"15"),o(),i(13,"option",7),r(14,"30"),o(),i(15,"option",8),r(16,"50"),o(),i(17,"option",9),r(18,"100"),o(),i(19,"option",10),r(20,"All"),o()()(),i(21,"div",11),O(22,G,1,1,"app-pokemon-card",12,Y),o(),v(24,J,2,0,"button",13),v(25,Q,2,0,"button",13)}e&2&&(m(22),T(n.pokedex()),m(2),b(n.currentPage()>1?24:-1),m(),b(n.currentPage()<n.maxPage?25:-1))},dependencies:[f],styles:["h1[_ngcontent-%COMP%]{font-size:60px}.search-box[_ngcontent-%COMP%]{margin-bottom:20px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px;padding:5px;border-radius:3px}.search-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;border-radius:3px;cursor:pointer}.pokedex-list[_ngcontent-%COMP%]{text-align:center;display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));width:100%}.pokemon-per-page[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:10px}.pokemon-per-page[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:5px;font-size:16px}.selector[_ngcontent-%COMP%]{border-radius:5px}.boton-pagina[_ngcontent-%COMP%]{background:#303030;color:#fff;padding:12px 30px;margin:10px 5px 5px;border-radius:8px;font-family:sans-serif;font-weight:600;font-size:16px;cursor:pointer;transition:all .3s ease}.boton-pagina[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}"]})};export{$ as Pokedex};
