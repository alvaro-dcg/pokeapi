import{J as l,L as g,O as h,P as p,W as k,Y as c,aa as m,bb as f,cb as D,db as w,j as v,m as y,q as d,qb as x}from"./chunk-2JJ3LMHY.js";function A(o,t){let e=t?.injector??p(k),n=new v(1),a=w(()=>{let r;try{r=o()}catch(s){f(()=>n.error(s));return}f(()=>n.next(r))},{injector:e,manualCleanup:!0});return e.get(c).onDestroy(()=>{a.destroy(),n.complete()}),n.asObservable()}function L(o,t){let n=!t?.manualCleanup?t?.injector?.get(c)??p(c):null,a=I(t?.equal),r;t?.requireSync?r=m({kind:0},{equal:a}):r=m({kind:1,value:t?.initialValue},{equal:a});let s,u=o.subscribe({next:i=>r.set({kind:1,value:i}),error:i=>{r.set({kind:2,error:i}),s?.()},complete:()=>{s?.()}});if(t?.requireSync&&r().kind===0)throw new l(601,!1);return s=n?.onDestroy(u.unsubscribe.bind(u)),D(()=>{let i=r();switch(i.kind){case 1:return i.value;case 2:throw i.error;case 0:throw new l(601,!1)}},{equal:t?.equal})}function I(o=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&o(t.value,e.value)}var M=class o{constructor(t){this.http=t}apiUrl="https://pokeapi.co/api/v2/pokemon";MAX_POKEMON=1025;getPokemonList(t=1,e=30){let n=(t-1)*e;if(n>=this.MAX_POKEMON)return y([]);let a=this.MAX_POKEMON-n,r=Math.min(e,a);return this.http.get(`${this.apiUrl}?offset=${n}&limit=${r}`).pipe(d(s=>s.results.map((u,i)=>{let b=i+1+n;return{id:b,name:u.name,sprite:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${b}.png`}})))}getPokemon(t){return this.http.get(`${this.apiUrl}/${t}`).pipe(d(e=>({id:e.id,name:e.name,sprite:e.sprites.front_default,shiny:e.sprites.front_shiny,types:e.types.map(n=>n.type.name),stats:e.stats,abilities:e.abilities.map(n=>({name:n.ability.name,is_hidden:n.is_hidden}))})))}static \u0275fac=function(e){return new(e||o)(h(x))};static \u0275prov=g({token:o,factory:o.\u0275fac,providedIn:"root"})};export{A as a,L as b,M as c};
